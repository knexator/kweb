var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequire94c2;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,i.call(r.exports,r,r.exports),r.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequire94c2=i);var r=i("amYBK");class l{constructor(e=0,t=0){this.x=e,this.y=t}static #e=(()=>{this.tmp=new l(0,0)})();static #t=(()=>{this.tmp1=new l(0,0)})();static #n=(()=>{this.tmp2=new l(0,0)})();static #i=(()=>{this.tmp3=new l(0,0)})();static #r=(()=>{this.zero=new l(0,0)})();static #l=(()=>{this.one=new l(1,1)})();static copy(e,t){return(t=t||new l).x=e.x,t.y=e.y,t}static add(e,t,n){return(n=n||new l).x=e.x+t.x,n.y=e.y+t.y,n}static sub(e,t,n){return(n=n||new l).x=e.x-t.x,n.y=e.y-t.y,n}static negate(e,t){return(t=t||new l).x=-e.x,t.y=-e.y,t}static scale(e,t,n){return(n=n||new l).x=e.x*t,n.y=e.y*t,n}static lerp(e,t,n,i){return(i=i||new l).x=e.x*(1-n)+t.x*n,i.y=e.y*(1-n)+t.y*n,i}static isZero(e){return 0==e.x&&0==e.y}static equals(e,t){return e.x==t.x&&e.y==t.y}static map2(e,t,n,i){return(i=i||new l).x=n(e.x,t.x),i.y=n(e.y,t.y),i}}const c=document.querySelector("#c"),o=c.getContext("2d");requestAnimationFrame(function e(t){var n,i,l,s,h,v;r.resizeCanvasToDisplaySize(c);let k=(t-m)*.001;m=t,o.fillStyle="#4E5E5E",o.fillRect(0,0,c.width,c.height),d+=k/.3,d=Math.min(1,d);let E=c.width,R=c.height;y&&(n=2*E,i=E,E=n*(1-(l=d))+i*l,s=2*R,h=R,R=s*(1-(v=d))+h*v),function e(t,n,i,r,l,c){if(l.length<u.length){let a=t,s=t+i/2,h=n+r/2;if(c&&(a=t+i/2,s=t),e(a,n,i/2,r/2,l.concat([0]),c),e(s,n,i/2,r/2,l.concat([1]),!c),e(s,h,i/2,r/2,l.concat([2]),!c),e(a,h,i/2,r/2,l.concat([3]),c),0==x(l)){let e=c?w:p;o.fillStyle=e[1];let a=i/8;0==u[u.length-1]&&(y?1==x(l,[0].concat(f)):1==x(l,f))&&(a*=d),g(t,n,i,r,a)}}else{let e=c?w:p,a=x(l);0==a&&(o.fillStyle=e[0],o.fillRect(t,n,i,r),o.fillStyle=e[1],g(t,n,i,r,i/8)),1==a&&(o.fillStyle=e[1],g(t,n,i,r,i/8))}}(0,0,E,R,[],!1),a&&(o.fillStyle="pink",o.textAlign="center",o.textBaseline="middle",o.font="60px Arial",o.fillText("Click to start",c.width/2,3*c.height/4)),requestAnimationFrame(e)}),document.addEventListener("keydown",function(e){switch(e.code){case"KeyA":h(!0);break;case"KeyD":h(!1)}}),document.addEventListener("click",function(e){a?a=!1:h(e.pageX<window.innerWidth/2)});let a=!0,s=0,f=[0],u=[0],y=!1,d=0;function h(e){d=0,e==function(e){let t=!0;for(;e>0;)e%2==1&&(t=!t),e>>=1;return t}(s)?(s+=1,y=u.every(e=>3==e),f=u.slice(),u=function(e){if(e.every(e=>3==e)){let t=Array(e.length+1).fill(0);return t[0]=1,t}let t=e.slice();for(let e=t.length-1;e>=0;e--){if(3!==t[e])return t[e]+=1,t;t[e]=0}throw Error("???")}(u),console.log("prev: ",f),console.log("cur: ",u)):(alert(`score: ${s}`),s=0,y=!1,u=[0])}function x(e,t){t=t||u;for(let n=0;n<Math.min(e.length,t.length);n++){if(e[n]<t[n])return 0;if(e[n]>t[n])return 2}return 1}const w=["red","pink","darkred"],p=["green","lime","darkgreen"];function g(e,t,n,i,r){o.fillRect(e,t,n,r),o.fillRect(e,t+i-r,n,r),o.fillRect(e,t,r,i),o.fillRect(e+n-r,t,r,i)}let m=0;
//# sourceMappingURL=index.c4e63c74.js.map
