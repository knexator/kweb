function e(e,n,o,r){Object.defineProperty(e,n,{get:o,set:r,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},t={},i=o.parcelRequire94c2;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in t){var n=t[e];delete t[e];var o={id:e,exports:{}};return r[e]=o,n.call(o.exports,o,o.exports),o.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){t[e]=n},o.parcelRequire94c2=i),i.register("kyEFX",function(n,o){"use strict";e(n.exports,"register",function(){return r},function(e){return r=e}),e(n.exports,"resolve",function(){return t},function(e){return t=e});var r,t,i={};r=function(e){for(var n=Object.keys(e),o=0;o<n.length;o++)i[n[o]]=e[n[o]]},t=function(e){var n=i[e];if(null==n)throw Error("Could not resolve bundle with id "+e);return n}}),i("kyEFX").register(JSON.parse('{"dm10R":"index.c316d7ca.js","9vm6R":"sprite.c1d1c491.png","dlVqN":"index.6553161f.js"}'));var s=i("amYBK"),u={};u="#version 300 es\n#define GLSLIFY 1\n\n// [0, 1]^2\nin vec2 a_vertex;\n\nuniform CommonData {\n    vec2 u_resolution;\n};\n\nuniform vec2 u_position;\nuniform vec2 u_size;\nout vec2 v_texcoord;\n\nvoid main() {\n    // if size is 100 & screen is 400, then\n    // clip space result width will be .5\n    vec2 pos = 2.0 * a_vertex * u_size / u_resolution;\n\n    // if position is 200 & screen is 400, then\n    // clip space result offset will be .5\n    pos += 2.0 * u_position / u_resolution;\n\n    // pos of 0 should go to the top left\n    pos -= vec2(1, 1);\n\n    // ypos = down\n    pos.y = -pos.y;\n\n    gl_Position = vec4(pos, 0, 1);\n\n    v_texcoord = a_vertex;\n}\n\n// todo: investigate glslify";var a={};a="#version 300 es\nprecision highp float;\n#define GLSLIFY 1\n\nin vec2 v_texcoord;\n\n// sprite stuff\nuniform sampler2D u_texture;\n\nout vec4 out_color;\n\nvoid main() {\n    out_color = texture(u_texture, v_texcoord);\n}";var c={};c="#version 300 es\n#define GLSLIFY 1\n\n// [0, 1]^2\nin vec2 a_vertex;\n\nuniform CommonData {\n    vec2 u_resolution;\n};\n\nuniform vec2 u_position;\nuniform vec2 u_size;\nout vec2 v_texcoord;\n\nvoid main() {\n    // if size is 100 & screen is 400, then\n    // clip space result width will be .5\n    vec2 pos = 2.0 * a_vertex * u_size / u_resolution;\n\n    // if position is 200 & screen is 400, then\n    // clip space result offset will be .5\n    pos += 2.0 * u_position / u_resolution;\n\n    // pos of 0 should go to the top left\n    pos -= vec2(1, 1);\n\n    // ypos = down\n    pos.y = -pos.y;\n\n    gl_Position = vec4(pos, 0, 1);\n\n    v_texcoord = a_vertex;\n}\n\n// todo: investigate glslify";var f={};f="#version 300 es\nprecision highp float;\n#define GLSLIFY 1\n\nin vec2 v_texcoord;\n\n// circ stuff\nuniform float u_radius;\n\nout vec4 out_color;\n\nvoid main() {\n    float distSq = dot(v_texcoord - .5, v_texcoord - .5);\n    float alpha = smoothstep(u_radius * u_radius + .01, u_radius * u_radius - .01, distSq);\n    out_color = vec4(vec3(distSq), alpha);\n}";const l=document.querySelector("#c");l.width=1,l.height=1;const d=l.getContext("webgl2",{alpha:!1});d.enable(d.BLEND),d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA),d.clearColor(.5,.5,.75,1);const p=s.createProgramInfo(d,[n(u),n(a)]),v=s.createProgramInfo(d,[n(c),n(f)]),_=s.createBufferInfoFromArrays(d,{a_vertex:{data:[1,1,0,1,1,0,0,0,1,0,0,1],numComponents:2}});var m={};m=new URL("../"+i("kyEFX").resolve("9vm6R"),import.meta.url).toString();const g=s.createTextures(d,{sprite_1:{src:new URL(m).toString()}}),h=s.createUniformBlockInfo(d,v,"CommonData");d.uniformBlockBinding(p.program,d.getUniformBlockIndex(p.program,"CommonData"),0),d.uniformBlockBinding(v.program,d.getUniformBlockIndex(v.program,"CommonData"),0);let x=123,w=234,b=0;requestAnimationFrame(function e(n){var o,r,t;s.resizeCanvasToDisplaySize(l)&&(d.viewport(0,0,d.drawingBufferWidth,d.drawingBufferHeight),s.setBlockUniforms(h,{u_resolution:[d.canvas.width,d.canvas.height]}));let i=n-b;b=n,x=(x+i)%d.canvas.width,w=(w+i)%d.canvas.height,d.clear(d.COLOR_BUFFER_BIT),o=g.sprite_1,r=x,t=w,d.useProgram(p.program),s.bindUniformBlock(d,p,h),s.setBuffersAndAttributes(d,p,_),s.setUniforms(p,{u_size:[200,200],u_position:[r,t],u_texture:o}),s.drawBufferInfo(d,_),d.useProgram(v.program),s.bindUniformBlock(d,v,h),s.setBuffersAndAttributes(d,v,_),s.setUniforms(v,{u_size:[300,400],u_position:[100,200],u_radius:.25}),s.drawBufferInfo(d,_),requestAnimationFrame(e)});
//# sourceMappingURL=index.c316d7ca.js.map
