{"mappings":"A,S,E,C,C,C,C,C,C,C,E,O,e,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,Q,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,K,E,Q,E,E,S,E,O,C,I,E,A,M,uB,E,I,O,E,K,mB,C,C,E,S,S,C,C,C,E,C,C,E,C,C,E,E,kB,G,E,S,Q,S,C,C,C,ECAA,a,E,E,Q,W,W,O,C,E,S,C,E,O,E,C,G,E,E,Q,U,W,O,C,E,S,C,E,O,E,C,GAEA,IAcA,EACA,EAfI,EAAU,CAAC,EAcf,EAbA,SAAkB,CAAK,EAErB,IAAK,IADD,EAAO,OAAO,KAAK,GACd,EAAI,EAAG,EAAI,EAAK,OAAQ,IAC/B,CAAO,CAAC,CAAI,CAAC,EAAE,CAAC,CAAG,CAAK,CAAC,CAAI,CAAC,EAAE,CAAC,AAErC,EASA,EARA,SAAiB,CAAE,EACjB,IAAI,EAAW,CAAO,CAAC,EAAG,CAC1B,GAAI,AAAY,MAAZ,EACF,MAAM,AAAI,MAAM,oCAAsC,GAExD,OAAO,CACT,C,GCfA,AAAA,EAAA,SAAA,SAA8C,KAAK,MAAM,+I,I,E,E,SCKzD,MAAM,EAAS,SAAS,cAAc,KAEtC,CAAA,EAAO,MAAQ,EACf,EAAO,OAAS,EAChB,MAAM,EAAK,EAAO,WAAW,UAC7B,EAAG,WAAW,GAAK,GAAK,IAAM,GAE9B,MAAM,EAAsB,EAAA,kBAAuB,EAAI,CAEnD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QA+BG,CAAC,CAEL,CAAC;;;;;;;;;;;;QAYG,CAAC,CACR,EAEK,EAAc,EAAA,2BAAgC,EAAI,CACpD,SAAU,CACN,KAAM,CAEF,EAAK,EACL,EAAK,EACL,EAAK,EAEL,EAAK,EACL,EAAK,EACL,EAAK,EACR,CACD,cAAe,CAEnB,CACJ,G,I,E,C,EC7EA,EAAiB,IAAA,IAAoB,MAAQ,AAAA,EAAA,SAAA,QAA6C,SAAA,YAAA,KAAU,WDoGpG,MAAM,EAAW,EAAA,eAAoB,EAAI,CACrC,SAAU,CACN,IAAK,IAAA,IAAA,GAAyC,UAElD,CACJ,GAGA,IAAI,EAAK,IACL,EAAK,IAEL,EAAO,EAuBX,sBAtBA,SAAS,EAAO,CAAG,MAzBA,EAAuB,EAAW,EA0B7C,EAAA,0BAA+B,KAE/B,EAAG,SAAS,EAAG,EAAG,EAAG,mBAAoB,EAAG,qBAC5C,EAAA,YAAiB,EAAqB,CAClC,aAAc,CAAC,EAAG,OAAO,MAAO,EAAG,OAAO,OAAO,AACrD,IAEJ,IAAI,EAAQ,EAAM,EAClB,EAAO,EAEP,EAAM,AAAA,CAAA,EAAK,CAAA,EAAS,EAAG,OAAO,MAC9B,EAAM,AAAA,CAAA,EAAK,CAAA,EAAS,EAAG,OAAO,OAG9B,EAAG,MAAM,EAAG,kBAxCG,EA0CL,EAAS,SA1CmB,EA0CT,EA1CoB,EA0ChB,EAzCjC,EAAG,WAAW,EAAoB,SAClC,EAAA,wBAA6B,EAAI,EAAqB,GACtD,EAAA,YAAiB,EAAqB,CAClC,UAAW,EACX,aAAc,CAAC,EAAG,OAAO,MAAO,EAAG,OAAO,OAAO,CACjD,OAAQ,CAoCyB,IAAK,IApCxB,CACd,WAAY,CAAC,EAAG,EAAE,AACtB,GACA,EAAA,eAAoB,EAAI,GAmCxB,sBAAsB,EAC1B","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-96c5d55e2d5bcde4.js","drawSprite/main.ts","node_modules/@parcel/runtime-js/lib/runtime-bf37f49fff79d226.js"],"sourcesContent":["function $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire94c2\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire94c2\"] = parcelRequire;\n}\nparcelRequire.register(\"kyEFX\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", function () { return $ef7689007096c8a0$export$6503ec6e8aabbaf; }, function (v) { return $ef7689007096c8a0$export$6503ec6e8aabbaf = v; });\n$parcel$export(module.exports, \"resolve\", function () { return $ef7689007096c8a0$export$f7ad0328861e2f03; }, function (v) { return $ef7689007096c8a0$export$f7ad0328861e2f03 = v; });\nvar $ef7689007096c8a0$export$6503ec6e8aabbaf;\nvar $ef7689007096c8a0$export$f7ad0328861e2f03;\n\"use strict\";\nvar $ef7689007096c8a0$var$mapping = {};\nfunction $ef7689007096c8a0$var$register(pairs) {\n    var keys = Object.keys(pairs);\n    for(var i = 0; i < keys.length; i++)$ef7689007096c8a0$var$mapping[keys[i]] = pairs[keys[i]];\n}\nfunction $ef7689007096c8a0$var$resolve(id) {\n    var resolved = $ef7689007096c8a0$var$mapping[id];\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return resolved;\n}\n$ef7689007096c8a0$export$6503ec6e8aabbaf = $ef7689007096c8a0$var$register;\n$ef7689007096c8a0$export$f7ad0328861e2f03 = $ef7689007096c8a0$var$resolve;\n\n});\n\nvar $aedda3b196e1be6b$exports = {};\n\n(parcelRequire(\"kyEFX\")).register(JSON.parse('{\"8k7rn\":\"index.53cfa28c.js\",\"lKBZw\":\"sprite.c1d1c491.png\",\"4dT7S\":\"index.b3ee02c2.js\"}'));\n\n\nvar $amYBK = parcelRequire(\"amYBK\");\n// Simple \"engine\", with a single function to draw sprites\n//// init\nconst $5ed9cf34bd77e6c0$var$canvas = document.querySelector(\"#c\");\n// ensure that we trigger a resize on the first frame\n$5ed9cf34bd77e6c0$var$canvas.width = 1;\n$5ed9cf34bd77e6c0$var$canvas.height = 1;\nconst $5ed9cf34bd77e6c0$var$gl = $5ed9cf34bd77e6c0$var$canvas.getContext(\"webgl2\");\n$5ed9cf34bd77e6c0$var$gl.clearColor(0.5, 0.5, 0.75, 1.0);\nconst $5ed9cf34bd77e6c0$var$sprite_program_info = $amYBK.createProgramInfo($5ed9cf34bd77e6c0$var$gl, [\n    // vs\n    `#version 300 es\r\n    \r\n        // [0, 1]^2\r\n        in vec2 a_vertex;\r\n    \r\n        // pixels for everything\r\n        uniform vec2 u_resolution;\r\n        uniform vec2 u_position;\r\n        uniform vec2 u_size;\r\n    \r\n        out vec2 v_texcoord;\r\n    \r\n        void main() {\r\n            // if size is 100 & screen is 400, then\r\n            // clip space result width will be .5\r\n            vec2 pos = 2.0 * a_vertex * u_size / u_resolution;\r\n    \r\n            // if position is 200 & screen is 400, then\r\n            // clip space result offset will be .5\r\n            pos += 2.0 * u_position / u_resolution;\r\n\r\n            // pos of 0 should go to the top left\r\n            pos -= vec2(1, 1);\r\n\r\n            // ypos = down\r\n            pos.y = -pos.y;\r\n    \r\n            gl_Position = vec4(pos, 0, 1);\r\n    \r\n            v_texcoord = a_vertex;\r\n        }\r\n        `,\n    // fs\n    `#version 300 es\r\n        precision highp float;\r\n    \r\n        in vec2 v_texcoord;\r\n    \r\n        uniform sampler2D u_texture;\r\n        \r\n        out vec4 out_color;\r\n    \r\n        void main() {\r\n            out_color = texture(u_texture, v_texcoord);\r\n        }\r\n        `\n]);\nconst $5ed9cf34bd77e6c0$var$buffer_info = $amYBK.createBufferInfoFromArrays($5ed9cf34bd77e6c0$var$gl, {\n    a_vertex: {\n        data: [\n            // Triangle for 1,1 corner\n            1.0,\n            1.0,\n            0.0,\n            1.0,\n            1.0,\n            0.0,\n            // Triangle for 0,0 corner\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            0.0,\n            1.0\n        ],\n        numComponents: 2\n    }\n});\n/**\r\n* Draws the given image\r\n* @param texture texture to draw\r\n* @param x distance in pixels to the left of the screen\r\n* @param y distance in pixels to the top of the screen\r\n* @param w width in pixels\r\n* @param h height in pixels\r\n*/ function $5ed9cf34bd77e6c0$var$drawImage(texture, x, y, w, h) {\n    $5ed9cf34bd77e6c0$var$gl.useProgram($5ed9cf34bd77e6c0$var$sprite_program_info.program);\n    $amYBK.setBuffersAndAttributes($5ed9cf34bd77e6c0$var$gl, $5ed9cf34bd77e6c0$var$sprite_program_info, $5ed9cf34bd77e6c0$var$buffer_info);\n    $amYBK.setUniforms($5ed9cf34bd77e6c0$var$sprite_program_info, {\n        u_texture: texture,\n        u_resolution: [\n            $5ed9cf34bd77e6c0$var$gl.canvas.width,\n            $5ed9cf34bd77e6c0$var$gl.canvas.height\n        ],\n        u_size: [\n            w,\n            h\n        ],\n        u_position: [\n            x,\n            y\n        ]\n    });\n    $amYBK.drawBufferInfo($5ed9cf34bd77e6c0$var$gl, $5ed9cf34bd77e6c0$var$buffer_info);\n}\nvar $3459f50e6e9088f3$exports = {};\n\n$3459f50e6e9088f3$exports = new URL(\"../\" + (parcelRequire(\"kyEFX\")).resolve(\"lKBZw\"), import.meta.url).toString();\n\n\n// load texture\nconst $5ed9cf34bd77e6c0$var$textures = $amYBK.createTextures($5ed9cf34bd77e6c0$var$gl, {\n    sprite_1: {\n        src: new URL($3459f50e6e9088f3$exports).toString()\n    }\n});\n// game logic\nlet $5ed9cf34bd77e6c0$var$px = 123;\nlet $5ed9cf34bd77e6c0$var$py = 234;\nlet $5ed9cf34bd77e6c0$var$last = 0;\nfunction $5ed9cf34bd77e6c0$var$update(now) {\n    if ($amYBK.resizeCanvasToDisplaySize($5ed9cf34bd77e6c0$var$canvas)) {\n        // on resize\n        $5ed9cf34bd77e6c0$var$gl.viewport(0, 0, $5ed9cf34bd77e6c0$var$gl.drawingBufferWidth, $5ed9cf34bd77e6c0$var$gl.drawingBufferHeight);\n        $amYBK.setUniforms($5ed9cf34bd77e6c0$var$sprite_program_info, {\n            u_resolution: [\n                $5ed9cf34bd77e6c0$var$gl.canvas.width,\n                $5ed9cf34bd77e6c0$var$gl.canvas.height\n            ]\n        });\n    }\n    let delta = now - $5ed9cf34bd77e6c0$var$last;\n    $5ed9cf34bd77e6c0$var$last = now;\n    $5ed9cf34bd77e6c0$var$px = ($5ed9cf34bd77e6c0$var$px + delta) % $5ed9cf34bd77e6c0$var$gl.canvas.width;\n    $5ed9cf34bd77e6c0$var$py = ($5ed9cf34bd77e6c0$var$py + delta) % $5ed9cf34bd77e6c0$var$gl.canvas.height;\n    //// draw\n    $5ed9cf34bd77e6c0$var$gl.clear($5ed9cf34bd77e6c0$var$gl.COLOR_BUFFER_BIT);\n    $5ed9cf34bd77e6c0$var$drawImage($5ed9cf34bd77e6c0$var$textures.sprite_1, $5ed9cf34bd77e6c0$var$px, $5ed9cf34bd77e6c0$var$py, 200, 200);\n    requestAnimationFrame($5ed9cf34bd77e6c0$var$update);\n}\nrequestAnimationFrame($5ed9cf34bd77e6c0$var$update);\n\n\n//# sourceMappingURL=index.53cfa28c.js.map\n","\"use strict\";\n\nvar mapping = {};\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping[id];\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return resolved;\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"8k7rn\\\":\\\"index.53cfa28c.js\\\",\\\"lKBZw\\\":\\\"sprite.c1d1c491.png\\\",\\\"4dT7S\\\":\\\"index.b3ee02c2.js\\\"}\"));","import * as twgl from \"twgl.js\"\r\n\r\n// Simple \"engine\", with a single function to draw sprites\r\n\r\n//// init\r\nconst canvas = document.querySelector(\"#c\")! as HTMLCanvasElement;\r\n// ensure that we trigger a resize on the first frame\r\ncanvas.width = 1;\r\ncanvas.height = 1;\r\nconst gl = canvas.getContext(\"webgl2\")!;\r\ngl.clearColor(0.5, 0.5, 0.75, 1.0);\r\n\r\nconst sprite_program_info = twgl.createProgramInfo(gl, [\r\n    // vs\r\n    `#version 300 es\r\n    \r\n        // [0, 1]^2\r\n        in vec2 a_vertex;\r\n    \r\n        // pixels for everything\r\n        uniform vec2 u_resolution;\r\n        uniform vec2 u_position;\r\n        uniform vec2 u_size;\r\n    \r\n        out vec2 v_texcoord;\r\n    \r\n        void main() {\r\n            // if size is 100 & screen is 400, then\r\n            // clip space result width will be .5\r\n            vec2 pos = 2.0 * a_vertex * u_size / u_resolution;\r\n    \r\n            // if position is 200 & screen is 400, then\r\n            // clip space result offset will be .5\r\n            pos += 2.0 * u_position / u_resolution;\r\n\r\n            // pos of 0 should go to the top left\r\n            pos -= vec2(1, 1);\r\n\r\n            // ypos = down\r\n            pos.y = -pos.y;\r\n    \r\n            gl_Position = vec4(pos, 0, 1);\r\n    \r\n            v_texcoord = a_vertex;\r\n        }\r\n        `,\r\n    // fs\r\n    `#version 300 es\r\n        precision highp float;\r\n    \r\n        in vec2 v_texcoord;\r\n    \r\n        uniform sampler2D u_texture;\r\n        \r\n        out vec4 out_color;\r\n    \r\n        void main() {\r\n            out_color = texture(u_texture, v_texcoord);\r\n        }\r\n        `\r\n]);\r\n\r\nconst buffer_info = twgl.createBufferInfoFromArrays(gl, {\r\n    a_vertex: {\r\n        data: [\r\n            // Triangle for 1,1 corner\r\n            1.0, 1.0,\r\n            0.0, 1.0,\r\n            1.0, 0.0,\r\n            // Triangle for 0,0 corner\r\n            0.0, 0.0,\r\n            1.0, 0.0,\r\n            0.0, 1.0,\r\n        ],\r\n        numComponents: 2,\r\n        // stride, offset, etc. if needed\r\n    },\r\n});\r\n\r\n/**\r\n* Draws the given image\r\n* @param texture texture to draw\r\n* @param x distance in pixels to the left of the screen\r\n* @param y distance in pixels to the top of the screen\r\n* @param w width in pixels\r\n* @param h height in pixels\r\n*/\r\nfunction drawImage(texture: WebGLTexture, x: number, y: number, w: number, h: number) {\r\n    gl.useProgram(sprite_program_info.program);\r\n    twgl.setBuffersAndAttributes(gl, sprite_program_info, buffer_info);\r\n    twgl.setUniforms(sprite_program_info, {\r\n        u_texture: texture,\r\n        u_resolution: [gl.canvas.width, gl.canvas.height],\r\n        u_size: [w, h],\r\n        u_position: [x, y],\r\n    });\r\n    twgl.drawBufferInfo(gl, buffer_info);\r\n}\r\n\r\n// load texture\r\nconst textures = twgl.createTextures(gl, {\r\n    sprite_1: {\r\n        src: (new URL('sprite.png', import.meta.url)).toString(),\r\n        // mag: gl.NEAREST\r\n    },\r\n});\r\n\r\n// game logic\r\nlet px = 123;\r\nlet py = 234;\r\n\r\nlet last = 0;\r\nfunction update(now) {\r\n    if (twgl.resizeCanvasToDisplaySize(canvas)) {\r\n        // on resize\r\n        gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\r\n        twgl.setUniforms(sprite_program_info, {\r\n            u_resolution: [gl.canvas.width, gl.canvas.height],\r\n        });\r\n    }\r\n    let delta = now - last;\r\n    last = now;\r\n\r\n    px = (px + delta) % gl.canvas.width;\r\n    py = (py + delta) % gl.canvas.height;\r\n\r\n    //// draw\r\n    gl.clear(gl.COLOR_BUFFER_BIT);\r\n\r\n    drawImage(textures.sprite_1, px, py, 200, 200);\r\n\r\n    requestAnimationFrame(update);\r\n}\r\n\r\nrequestAnimationFrame(update);\r\n","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"lKBZw\")).toString();"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","i","length","resolved","JSON","parse","$amYBK","$5ed9cf34bd77e6c0$var$canvas","document","querySelector","width","height","$5ed9cf34bd77e6c0$var$gl","getContext","clearColor","$5ed9cf34bd77e6c0$var$sprite_program_info","createProgramInfo","$5ed9cf34bd77e6c0$var$buffer_info","createBufferInfoFromArrays","a_vertex","data","numComponents","$3459f50e6e9088f3$exports","URL","resolve","url","toString","$5ed9cf34bd77e6c0$var$textures","createTextures","sprite_1","src","$5ed9cf34bd77e6c0$var$px","$5ed9cf34bd77e6c0$var$py","$5ed9cf34bd77e6c0$var$last","requestAnimationFrame","$5ed9cf34bd77e6c0$var$update","now","texture","x","y","resizeCanvasToDisplaySize","viewport","drawingBufferWidth","drawingBufferHeight","setUniforms","u_resolution","canvas","delta","clear","COLOR_BUFFER_BIT","useProgram","program","setBuffersAndAttributes","u_texture","u_size","u_position","drawBufferInfo"],"version":3,"file":"index.53cfa28c.js.map"}